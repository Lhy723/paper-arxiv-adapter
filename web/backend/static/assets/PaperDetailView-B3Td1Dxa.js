import{d as g,s as w,e as o,f as e,F as u,t as a,x as _,h as p,r as b,g as C,i as B,y as D,n as c,u as V,o as l,_ as M}from"./index-DKN7MZcg.js";import{p as f}from"./api-D9h__T2_.js";const F={class:"paper-detail-view"},N={key:0,class:"loading-state"},H={class:"paper-detail"},P={class:"paper-header"},q={class:"paper-meta"},z={class:"arxiv-badge"},I={class:"meta-item"},L={class:"paper-title"},R={class:"paper-section"},X={class:"authors-list"},$={class:"paper-section"},A={class:"categories-list"},E={class:"paper-section"},K={class:"abstract-text"},S={class:"paper-section metadata"},T={class:"metadata-grid"},j={class:"meta-row"},G={class:"meta-value"},J={class:"meta-row"},O={class:"meta-value"},Q={class:"meta-row"},U={class:"meta-value"},W={class:"meta-row"},Y={class:"meta-value"},Z={class:"paper-actions"},ee=["href"],se=["href"],te={key:2,class:"error-state"},ae={class:"modal-actions"},oe=g({__name:"PaperDetailView",setup(le){const x=D(),v=V(),t=c(null),y=c(!0),i=c(!1);function d(n){if(!n)return"";try{return new Date(n).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}catch{return n}}function m(){v.push("/papers")}function h(){i.value=!0}async function k(){if(t.value)try{await f.delete(t.value.unique_key),v.push("/papers")}catch(n){console.error("Failed to delete paper:",n)}}return w(async()=>{const n=x.params.id;try{const{data:s}=await f.get(n);t.value=s}catch(s){console.error("Failed to load paper:",s),t.value=null}finally{y.value=!1}}),(n,s)=>(l(),o("div",F,[y.value?(l(),o("div",N,[...s[3]||(s[3]=[e("div",{class:"spinner"},null,-1),e("span",null,"加载论文详情...",-1)])])):t.value?(l(),o(u,{key:1},[e("div",{class:"detail-header"},[e("button",{class:"back-btn",onClick:m},[...s[4]||(s[4]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),e("span",null,"返回",-1)])])]),e("article",H,[e("header",P,[e("div",q,[e("span",z,a(t.value.arxiv_id)+a(t.value.version),1),e("span",I,[s[5]||(s[5]=_('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-c28862b1><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-c28862b1></rect><line x1="16" y1="2" x2="16" y2="6" data-v-c28862b1></line><line x1="8" y1="2" x2="8" y2="6" data-v-c28862b1></line><line x1="3" y1="10" x2="21" y2="10" data-v-c28862b1></line></svg>',1)),p(" "+a(d(t.value.published)),1)])]),e("h1",L,a(t.value.title),1)]),e("section",R,[s[6]||(s[6]=e("h2",null,"作者",-1)),e("div",X,[(l(!0),o(u,null,b(t.value.authors,r=>(l(),o("span",{key:r,class:"author-tag"},a(r),1))),128))])]),e("section",$,[s[7]||(s[7]=e("h2",null,"分类",-1)),e("div",A,[(l(!0),o(u,null,b(t.value.categories,r=>(l(),o("span",{key:r,class:"category-tag"},a(r),1))),128))])]),e("section",E,[s[8]||(s[8]=e("h2",null,"摘要",-1)),e("p",K,a(t.value.abstract),1)]),e("section",S,[s[13]||(s[13]=e("h2",null,"元数据",-1)),e("div",T,[e("div",j,[s[9]||(s[9]=e("span",{class:"meta-label"},"arXiv ID",-1)),e("span",G,a(t.value.arxiv_id),1)]),e("div",J,[s[10]||(s[10]=e("span",{class:"meta-label"},"版本",-1)),e("span",O,a(t.value.version),1)]),e("div",Q,[s[11]||(s[11]=e("span",{class:"meta-label"},"发布日期",-1)),e("span",U,a(d(t.value.published)||"-"),1)]),e("div",W,[s[12]||(s[12]=e("span",{class:"meta-label"},"更新日期",-1)),e("span",Y,a(d(t.value.updated)||"-"),1)])])]),e("section",Z,[e("a",{href:t.value.pdf_url,target:"_blank",rel:"noopener noreferrer",class:"action-btn primary"},[...s[14]||(s[14]=[_('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-c28862b1><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-c28862b1></path><polyline points="14 2 14 8 20 8" data-v-c28862b1></polyline><line x1="12" y1="18" x2="12" y2="12" data-v-c28862b1></line><line x1="9" y1="15" x2="15" y2="15" data-v-c28862b1></line></svg> 下载 PDF ',2)])],8,ee),e("a",{href:t.value.source_url,target:"_blank",rel:"noopener noreferrer",class:"action-btn secondary"},[...s[15]||(s[15]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e("polyline",{points:"15 3 21 3 21 9"}),e("line",{x1:"10",y1:"14",x2:"21",y2:"3"})],-1),p(" 访问 arXiv ",-1)])],8,se),e("button",{class:"action-btn danger",onClick:h},[...s[16]||(s[16]=[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})],-1),p(" 删除 ",-1)])])])])],64)):(l(),o("div",te,[s[17]||(s[17]=e("svg",{class:"error-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})],-1)),s[18]||(s[18]=e("p",null,"论文未找到",-1)),e("button",{class:"btn-primary",onClick:m},"返回列表")])),i.value?(l(),o("div",{key:3,class:"modal-overlay",onClick:s[2]||(s[2]=r=>i.value=!1)},[e("div",{class:"modal",onClick:s[1]||(s[1]=C(()=>{},["stop"]))},[s[19]||(s[19]=e("h3",null,"确认删除",-1)),s[20]||(s[20]=e("p",null,"确定要删除这篇论文吗？此操作无法撤销。",-1)),e("div",ae,[e("button",{class:"btn-secondary",onClick:s[0]||(s[0]=r=>i.value=!1)},"取消"),e("button",{class:"btn-danger",onClick:k},"删除")])])])):B("",!0)]))}}),ie=M(oe,[["__scopeId","data-v-c28862b1"]]);export{ie as default};
